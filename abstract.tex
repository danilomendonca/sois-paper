The large scale adoption of pervasive and mobile computing, ranging from smartphones and other gadgets to autonomous vehicles, constitutes a scenario in which data is been produced and consumed at an unprecedented rate by cyber-physical devices and users at the edge of the network. Targeting this scenario, the 5th generation mobile networks and wireless systems (5G) shall bring disruptive developments to telecommunication services, including context-awareness and device-to-device (D2D) communication. This combination increases the potential for new types of applications, but also poses challenges to their engineering. %, as low latency, cost, volatility and heterogeneity of devices still need to be harassed.

While cloud has been and will remain as an essential model for distributed computing, problems such as latency, cost and intermittent connectivity still need to be harassed. In this paper, we introduce the concept of \textit{Ad Hoc Edge Spaces} as part of a framework for the development of mobile applications that cannot depend solely on remote servers to satisfy their communication, processing and coordination requirements. Through edge spaces, devices can form ad hoc groups to interact locally using different communication and coordination styles and to dynamically assume application roles -- like fetching and processing data from their sensors -- and autonomously managing the ad hoc spaces itself -- like reorganizing the group-role structure and keeping group knowledge. We illustrate this idea with use cases that exploit its features and evaluate our framework with the implementation of a crowdsensing application for Android platform.

%The purpose is to avoid bottlenecks, costs and the latency of cloud servers.

%This scenario has specific characteristics, such as a high heterogeneity and volatility, intermittent connectivity, and resource limitations. To further explore its potential, pervasive and mobile applications must be able to overcome challenges such as the churn of components and fluctuations of physical and computational resources. 

%Moreover, considering the nature of personal devices, their heterogeneity, and scale, applications must make proper use of resources with an efficient and coherent distribution of its activities among participant devices.
%As more and more devices join the network or because of low latency requirements, a server-base architecture in which servers in the cloud handle most of the computation may not deliver the expected results. Conversely, 
%Many devices are now equipped with more powerful resources. This enables more computation to be performed at the edge of the network infrastructure. Some applications already explore machine-to-machine (M2M) communication to allow distributed components to interact and coordinate their behavior through local and mobile ad hoc networks (MANETs). Despite the potential benefits, an horizontal architectural must also deal with problems related to the churn of devices, consistency, robustness, availability, resource limitations, fairness, dynamic policies, security, and others.  


%In the literature, data-centric models are the state-of-art for distributed components coordination, as they enable both space and time decoupling. However, their high abstraction leaves many aspects open. In this work, we propose a framework for the development of distributed and self-adaptive applications willing to explore the potential of nowadays pervasive computing. Our model inherits well-known organizational abstractions, namely groups and roles, which allow a flexible modularization of the system and a dynamic assignment of activities among heterogeneous hosting devices in scenarios of high volatility. The abstractions and features provided by the framework target the application itself (managed system) and also the layer responsible for its adaptation (managing system) -- which should preserve the normal behavior and avoid violations of the application requirement in the advent of context changes.

%We have showed the feasibility of this approach with a real-case application for public transport monitoring and compared its features with other models and mechanisms for self-adaptation.

%In addition, we detail the self-organization mechanisms and their incorporation by a middleware.  Finally, we have showed the use of our model in different application scenarios.